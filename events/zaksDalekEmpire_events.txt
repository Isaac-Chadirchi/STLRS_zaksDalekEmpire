# AUTHORS: 	Zak
# NOTICE:	THIS CODE IS, UNDER NO CIRCUMSTANCES, TO BE USED IN THE TRAINING OF GENERATIVE AI MODELS. INCLUSION OF THIS FILE IN GENERATIVE AI TRAINING DATA IS STRICTLY PROHIBITED.
# NOTES:	PLACEHOLDER
# TODO:	    this

namespace = zaksDalekEmpire_events

# GAME START EVENTS

# Event 01 - Game Start - Logs the mod as being installed
event = {
    id = zaksDalekEmpire_events.1
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        NOT = { has_global_flag = zaksDalekEmpire_installed }
    }
    immediate = {
        log = "Zak's Dalek Empire has been loaded! EXTERMINATE!"
        set_global_flag = zaksDalekEmpire_installed
    }
}

# Event 02 - Game Start - Skaro setup, called by empire_init_capital_planet
# root = planet, capital
# from = species, main
planet_event = {
    id = zaksDalekEmpire_events.2
    hide_window = yes
    is_triggered_only = yes
    trigger = { has_planet_flag = planet_skaro }
    immediate = {
        log = "DEBUG: zaksDalekEmpire_events.2 fired for [This.Owner.GetRealName]"
        generate_skaro_deposits_and_blockers = yes
        generate_start_buildings_and_districts = yes # generate_skaro_buildings_and_districts = yes (not yet created)
        generate_start_pops = yes
        generate_home_planet_final_pass = yes
    }
}

# Event 03 - Game Start - Removes all planetary preference from all Dalek species
event = {
    id = zaksDalekEmpire_events.3
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        any_galaxy_species = { is_archetype = DALEK }
    }
    immediate = {
        every_galaxy_species = {
            limit = { is_archetype = DALEK }
            log = "DEBUG: zaksDalekEmpire_events.3 fired for [This.GetName]"
            change_species_characteristics = {
                remove_trait = trait_pc_desert_preference
                remove_trait = trait_pc_arid_preference
                remove_trait = trait_pc_savannah_preference
                remove_trait = trait_pc_tropical_preference
                remove_trait = trait_pc_continental_preference
                remove_trait = trait_pc_ocean_preference
                remove_trait = trait_pc_arctic_preference
                remove_trait = trait_pc_tundra_preference
                remove_trait = trait_pc_alpine_preference
                can_be_modified = no
            }
            
        }
    }
}